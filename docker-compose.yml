version: '2'
services:
    geodocker-ubuntu-pbase:
        build:
          context: ./base
          dockerfile: ubuntu.dockerfile
        image: geodocker-pbase:latest
    geodocker-centos-pbase:
        build:
          context: ./base
          dockerfile: centos.dockerfile
        image: geodocker-pbase:latest
    geodocker-zookeeper:
        build: ./zookeeper
        image: daunnc/geodocker-zookeeper:latest
        depends_on:
          # - geodocker-ubuntu-pbase
          - geodocker-centos-pbase
          # choose one of images (centos / ubuntu)
    geodocker-hadoop:
        build: ./hadoop
        image: daunnc/geodocker-hadoop:latest
        depends_on:
          - geodocker-zookeeper
    geodocker-accumulo:
        build: ./accumulo
        image: daunnc/geodocker-accumulo:latest
        depends_on:
          - geodocker-hadoop
    geodocker-spark:
        build: ./spark
        image: daunnc/geodocker-spark:latest
        depends_on:
          - geodocker-hadoop
    geodocker-geoserver:
        build: ./extras/geoserver
        image: daunnc/geodocker-geoserver:latest
        depends_on:
          - geodocker-spark
